<div class="flex flex-column gap-2">
  @if(labelText()?.length&& labelText()!.trim().length > 0) {
  <label [for]="id()" class="input-label">{{ labelText() }}</label>
  }

  <div class="input-wrapper">
    <!-- Left icon (based on input type) -->
    <span class="input-icon">
      @switch (type()) { @case ('text') {
      <i class="pi pi-user"></i>
      } @case ('email') {
      <i class="pi pi-envelope"></i>
      } @case ('password') {
      <i class="pi pi-lock"></i>
      } @default {
      <i class="pi pi-pencil"></i>
      } }
    </span>

    <!-- Input -->
    <input
      [id]="id()"
      [type]="inputType"
      [placeholder]="placeholder()"
      [value]="value"
      (input)="handleInput($event)"
      (blur)="onTouched()"
      required
      class="input-style"
      [style.border]="errorHandilgControl()?.invalid && (errorHandilgControl()?.dirty || errorHandilgControl()?.touched) ? '1px solid #EF4444' : '1px solid #D9D9D9'"
    />

    <!-- Password visibility toggle -->
    @if (type() === "password") {
    <button type="button" (click)="toggleShowPassword()" class="eye-btn">
      @if (!showPassword) {
      <i class="pi pi-eye password-eye"></i>
      } @else {
      <i class="pi pi-eye-slash password-eye"></i>
      }
    </button>
    }
  </div>
  @if (errorHandilgControl()) {
  <lib-fitness-input-error-handeling [control]="errorHandilgControl()!" />
  }
</div>
